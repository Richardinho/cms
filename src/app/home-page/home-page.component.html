<app-menu
  [showCreateArticleButton]="true"
  ></app-menu>

<ul data-test="home-page" class="links">

  <li
    *ngFor="let article of articles$ | async"
    [class.unsaved]="!article.saved"
    class="link">

    <span>{{article.title}}</span>
    &nbsp;
    <span *ngIf="!article.saved">unsaved changes</span>

    <div class="button-panel">

      <button
        *ngIf="!article.published"
        (click)="publish(article.id)"
        class="button"
        >publish</button>
      
      <button
        *ngIf="article.published"
        (click)="unpublish(article.id)"
        class="button"
        >unpublish</button>

      <button
         [routerLink]="['/view-article', article.id]"
         class="button"
         data-test="view-article-button">view article</button>
    </div>
  </li>
</ul>

